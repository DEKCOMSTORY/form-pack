"use strict";function _defineProperty(e,s,t){return s in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}function findElement(e,s){for(var t=[],r=[],a=0;a<e.elements.length;a+=1){var n=e.elements[a][s.attr],c=encodeURIComponent(e.elements[a].value);if(s.skipDisabled&&e.elements[a].disabled)break;if(""!==n)switch(e.elements[a].nodeName){case"INPUT":switch(e.elements[a].type){case"text":case"hidden":case"password":case"button":case"reset":case"submit":case"color":case"date":case"datetime-local":case"email":case"month":case"number":case"range":case"search":case"tel":case"time":case"url":case"week":t.push(_defineProperty({},n,c)),r.push([n]+"="+c);break;case"checkbox":case"radio":e.elements[a].checked&&(t.push(_defineProperty({},n,c)),r.push([n]+"="+c));break;case"multitext":t.push(_defineProperty({},n,c)),r.push([n]+"="+c)}break;case"TEXTAREA":t.push(_defineProperty({},n,c)),r.push([n]+"="+c);break;case"SELECT":switch(e.elements[a].type){case"select-one":t.push(_defineProperty({},n,c)),r.push([n]+"="+c);break;case"select-multiple":for(var o=[],i=0;i<e.elements[a].options.length;i+=1){var l=encodeURIComponent(e.elements[a].options[i].value);e.elements[a].options[i].selected&&(o.push(l),r.push(l))}t.push(_defineProperty({},n,o))}break;case"BUTTON":switch(e.elements[a].type){case"reset":case"submit":case"button":t.push(_defineProperty({},n,c)),r.push([n]+"="+c)}}}return{json:t,urlencoded:r.join("&")}}function formPack(e){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=Object.assign({},{attr:"name",skipDisabled:!1},s);if(!e||"FORM"!==e.nodeName)throw new Error("<form> element not found.");var r=findElement(e,t);if(!t.urlencoded){var a={};return r.json.forEach(function(e){var s=[],t=Object.keys(e)[0];Object.hasOwnProperty.call(a,t)?(Array.isArray(a[t])?s.concat(a[t]):s.push(a[t]),s.push(e[t]),Object.assign(a,_defineProperty({},t,s))):Object.assign(a,e)}),a}return r.urlencoded}"undefined"!=typeof module&&void 0!==module.exports?(module.exports=formPack,exports.default=formPack):window.formPack=formPack;