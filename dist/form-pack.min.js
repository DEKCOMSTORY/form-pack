"use strict";function _toConsumableArray(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)}function _defineProperty(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function findElement(e,n){for(var t=[],s=[],o=0;o<e.elements.length&&(!n.ignoreDisable||!e.elements[o].disabled);o+=1)if(""!==e.elements[o][n.findAttr])switch(e.elements[o].nodeName){case"INPUT":switch(e.elements[o].type){case"text":case"hidden":case"password":case"button":case"reset":case"submit":case"color":case"date":case"datetime-local":case"email":case"month":case"number":case"range":case"search":case"tel":case"time":case"url":case"week":t.push(_defineProperty({},e.elements[o][n.findAttr],encodeURIComponent(e.elements[o].value))),s.push([e.elements[o][n.findAttr]]+"="+encodeURIComponent(e.elements[o].value));break;case"checkbox":case"radio":e.elements[o].checked&&(t.push(_defineProperty({},e.elements[o][n.findAttr],encodeURIComponent(e.elements[o].value))),s.push([e.elements[o][n.findAttr]]+"="+encodeURIComponent(e.elements[o].value)))}break;case"TEXTAREA":t.push(_defineProperty({},e.elements[o][n.findAttr],encodeURIComponent(e.elements[o].value))),s.push([e.elements[o][n.findAttr]]+"="+encodeURIComponent(e.elements[o].value));break;case"SELECT":switch(e.elements[o].type){case"select-one":t.push(_defineProperty({},e.elements[o][n.findAttr],encodeURIComponent(e.elements[o].value))),s.push([e.elements[o][n.findAttr]]+"="+encodeURIComponent(e.elements[o].value));break;case"select-multiple":for(var r=[],a=0;a<e.elements[o].options.length;a+=1)e.elements[o].options[a].selected&&(r.push(encodeURIComponent(e.elements[o].options[a].value)),s.push([e.elements[o][n.findAttr]]+"="+encodeURIComponent(e.elements[o].options[a].value)));t.push(_defineProperty({},e.elements[o][n.findAttr],r))}break;case"BUTTON":switch(e.elements[o].type){case"reset":case"submit":case"button":t.push(_defineProperty({},e.elements[o][n.findAttr],encodeURIComponent(e.elements[o].value))),s.push([e.elements[o][n.findAttr]]+"="+encodeURIComponent(e.elements[o].value))}}return{json:t,urlencoded:s.join("&")}}function formPack(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n=Object.assign({},{findAttr:"name",ignoreDisable:!1},n),!e||"FORM"!==e.nodeName)throw new Error("<form> element not found.");var t=findElement(e,n);return n.urlencoded?t.urlencoded:Object.assign.apply(Object,[{}].concat(_toConsumableArray(t.json)))}Object.defineProperty(exports,"__esModule",{value:!0}),module.exports=formPack,exports.default=formPack;